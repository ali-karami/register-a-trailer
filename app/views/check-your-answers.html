{% extends "layout.html" %}

{% block page_title %} Check your answers {% endblock %}

{% block head %}
    {% include "includes/head.html" %}
    {% include "includes/scripts.html" %}
{% endblock %}

{% block proposition_header %}
    {% include "includes/propositional_navigation_alpha.html" %}
{% endblock %}

{% block content %}
{% include "includes/standard-back-phase-banner.html" %}
<main id="content" role="main">
    <div class="grid-row">
        <div class="column-full">
            <h1 class="heading-large">Check your answers</h1>

            <h2 class="heading-medium margin-top-2">Trailer details</h2>

            <ul class="list-summary margin-bottom-2">
                <li class="list-summary-item vin">
                    <span>Chassis number (VIN)</span>
                    <span><strong><span id="chassisNumber" style="width: 100%;text-transform: uppercase;"></span></strong></span>
                </li>
                
                <li class="list-summary-item make">
                    <span>Make</span>
                    <span><strong><span id="manufacturer" style="width: 100%;text-transform: capitalize;"></span></strong></span>
                    <span class="list-summary-item-right">
                        <a class="button-change" href="register/manufacturer?change=true">Change <span class="visuallyhidden">manufacturer</span></a></span>
                </li>
                
                <li class="list-summary-item maximum-mass">
                    <span>Permissible maximum mass (kg)</span>
                    <span><strong><span id="maximumMass" style="width: 100%;"></span></strong></span>
                    <span class="list-summary-item-right">
                        <a class="button-change" href="register/max-mass?change=true">Change <span class="visuallyhidden">permissible maximum mass</span></a></span>
                </li>

                <li class="list-summary-item unladen-mass">
                    <span>Unladen mass (kg)</span>
                    <span><strong><span id="unladenMass" style="width: 100%;"></span></strong></span>
                    <span class="list-summary-item-right">
                        <a class="button-change" href="register/unladen-mass?change=true">Change <span class="visuallyhidden">unladen mass</span></a></span>
                </li>
            </ul>
            
            <h2 class="heading-medium margin-top-2"><span id="app-type">Personal</span> details</h2>

            <ul class="list-summary margin-bottom-2">
                <li class="list-summary-item keeper">
                    <span>Keeper name</span>
                    <span><strong><span id="keeperName" style="width: 100%;text-transform: capitalize;"></span></strong></span>
                    <span class="list-summary-item-right"><a class="button-change" href="register/keeper?change=true">Change <span class="visuallyhidden">name</span></a></span>
                </li>

                <li class="list-summary-item company">
                    <span>Company name</span>
                    <span><strong><span id="companyName" style="width: 100%;text-transform: capitalize;"></span></strong></span>
                    <span class="list-summary-item-right"><a class="button-change" href="register/keeper?change=true">Change <span class="visuallyhidden">name</span></a></span>
                </li>

                <li class="list-summary-item keeper-address">
                    <span>Address</span>
                    <span><strong><span id="address"></span></strong></span>
                    <span class="list-summary-item-right"><a class="button-change" href="register/find-individual-address?change=true">Change <span class="visuallyhidden">address</span></a></span>
                </li>

                <li class="list-summary-item email-address">
                    <span>Email address</span>
                    <span><strong><span id="email" style="width: 100%;"></span></strong></span>
                    <span class="list-summary-item-right"><a class="button-change" href="register/email?change=true">Change <span class="visuallyhidden">email address</span></a></span>
                </li>
            </ul>
            <br>

            {{ button.input(class='button', type='button', value='Continue to payment') }}
        </div>
    </div>
</main>

<script type="text/javascript">
    if (member.questions.serviceName === 'manage') {
        $('#service-name').html('Manage a trailer');
    } else if (member.questions.serviceName === 'register') {
        $('#service-name').html('Register a trailer');
    }

    if (!member.questions.chassisNumber) {
        $('.vin').remove();
    } else {
        $('#chassisNumber').html(member.questions.chassisNumber);
    }
    
    if (!member.questions.manufacturer) {
        $('.make').remove();
    } else {
        $('#manufacturer').html(member.questions.manufacturer);
    }
    
    if (!member.questions.maximumMass) {
        $('.maximum-mass').remove();
    } else {
        $('#maximumMass').html(member.questions.maximumMass);
    }

    if (!member.questions.unladenMass) {
        $('.unladen-mass').remove();
    } else {
        $('#unladenMass').html(member.questions.unladenMass);
    }

    if (!member.questions.keeperName){
        $('.keeper').remove();
    } else {
        $('#keeperName').html(member.questions.keeperName);
    }  
    
    if (!member.questions.companyName){
        $('.company').remove();
    } else {
        $('#companyName').html(member.questions.companyName);
        $('#app-type').html('Company');
    }
    
    if (!member.questions.address) {
        $('.keeper-address').remove();
    } else {
        $('#address').html(member.questions.address);
    }
    
    if (!member.questions.email) {
        $('.email-address').remove();
    } else {
        $('#email').html(member.questions.email);
    }

    $('.button').click(next);

    function next() {        
        go('payment');
    }
</script>
{% endblock %}